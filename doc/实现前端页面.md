# 前端页面实现计划

## 项目结构

创建一个 `web` 目录，包含以下文件：
- `index.html`：主页面
- `style.css`：样式文件
- `script.js`：JavaScript 逻辑

## 技术栈

- HTML5：页面结构
- Tailwind CSS v3：样式设计
- JavaScript：交互逻辑
- Font Awesome：图标

## 功能模块

### 1. 导航栏
- 健康检查
- 键值操作
  - 单个键值
  - 批量操作
  - 扫描操作
- 配置管理
- 监控指标

### 2. 健康检查模块
- 显示服务的健康状态
- 提供刷新按钮，手动检查健康状态

### 3. 单个键值操作模块
- **设置键值对**：
  - 键输入框
  - 值输入框
  - TTL 输入框（可选）
  - 提交按钮
- **获取值**：
  - 键输入框
  - 提交按钮
- **删除键值对**：
  - 键输入框
  - 提交按钮

### 4. 批量键值操作模块
- **批量设置键值对**：
  - 键值对输入区域（支持添加多个键值对）
  - TTL 输入框（可选）
  - 提交按钮
- **批量获取值**：
  - 键列表输入区域（支持添加多个键）
  - 提交按钮
- **批量删除键值对**：
  - 键列表输入区域（支持添加多个键）
  - 提交按钮

### 5. 扫描操作模块
- 前缀输入框
- 限制输入框（可选）
- 提交按钮
- 结果显示区域（表格形式）

### 6. 配置管理模块
- 显示当前配置
- **更新配置**：
  - RocksDB 路径输入框
  - 磁盘存储路径输入框
  - 大值阈值输入框
  - 最大磁盘使用率输入框
  - 淘汰检查间隔输入框
  - 淘汰批量大小输入框
  - 提交按钮

### 7. 监控指标模块
- 显示监控指标的链接
- 提供打开监控指标页面的按钮

## 实现细节

### 1. 页面布局
- 使用 Tailwind CSS 实现响应式布局
- 顶部导航栏，底部结果显示区域
- 操作表单使用卡片式设计

### 2. 交互逻辑
- 使用 JavaScript 实现表单提交和结果显示
- 使用 Fetch API 调用 HTTP 接口
- 实现错误处理和加载状态显示
- 实现表单验证

### 3. 结果显示
- 使用模态框或折叠面板显示操作结果
- 成功结果显示绿色，错误结果显示红色
- 支持复制结果到剪贴板

### 4. 样式设计
- 使用 Tailwind CSS 的默认颜色方案
- 实现平滑的动画效果
- 确保页面美观、易用

## 部署方式

将 `web` 目录下的文件复制到项目根目录，然后修改 `api/http_server.go` 文件，添加静态文件服务：

```go
// setupRoutes 设置路由
func (s *HTTPServer) setupRoutes() {
	// 静态文件服务
	s.router.Static("/web", "./web")
	s.router.GET("/", func(c *gin.Context) {
		c.Redirect(http.StatusMovedPermanently, "/web/index.html")
	})

	// 其他路由...
}
```

这样，用户可以通过访问 `http://localhost:8080` 来打开前端页面。